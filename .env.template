# Platform3 Environment Configuration Template
# Copy this file to .env.local and fill in your actual values
# NEVER commit .env.local to version control

# ===========================================
# GLOBAL CONFIGURATION
# ===========================================
NODE_ENV=development
PLATFORM3_ENVIRONMENT=development

# ===========================================
# VAULT CONFIGURATION (SECURE SECRETS)
# ===========================================
# Vault service URL
VAULT_URL=http://vault:8200

# Vault authentication token (get from vault initialization)
VAULT_TOKEN=<vault:auth/service-token>

# Vault namespace (optional)
VAULT_NAMESPACE=

# ===========================================
# CONFIGURATION SERVICE
# ===========================================
CONFIG_SERVICE_URL=http://config-service:3007
CONFIG_SERVICE_API_KEY=<vault:secret/config/api-key>

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
# PostgreSQL (main database)
POSTGRES_PASSWORD=<vault:secret/database/postgres/password>
DATABASE_URL=<vault:secret/database/postgres/url>

# Redis (caching and sessions)
REDIS_PASSWORD=<vault:secret/database/redis/password>
REDIS_URL=<vault:secret/database/redis/url>

# InfluxDB (metrics and time series)
INFLUXDB_PASSWORD=<vault:secret/database/influxdb/password>
INFLUXDB_URL=<vault:secret/database/influxdb/url>

# ===========================================
# AUTHENTICATION & SECURITY
# ===========================================
# JWT Secret for token signing
JWT_SECRET=<vault:secret/auth/jwt-secret>

# API Keys for service-to-service communication
API_SECRET_KEY=<vault:secret/auth/api-secret>

# Service API keys (comma-separated)
VALID_API_KEYS=<vault:secret/auth/valid-api-keys>

# ===========================================
# BROKER INTEGRATIONS
# ===========================================
# OANDA Broker
OANDA_API_KEY=<vault:secret/brokers/oanda/api-key>
OANDA_ACCOUNT_ID=<vault:secret/brokers/oanda/account-id>
OANDA_ENVIRONMENT=practice

# MT5 Broker
MT5_LOGIN=<vault:secret/brokers/mt5/login>
MT5_PASSWORD=<vault:secret/brokers/mt5/password>
MT5_SERVER=<vault:secret/brokers/mt5/server>

# ===========================================
# EXTERNAL SERVICES
# ===========================================
# Email Service (for notifications)
SMTP_HOST=<vault:secret/email/smtp-host>
SMTP_PORT=<vault:secret/email/smtp-port>
SMTP_USER=<vault:secret/email/smtp-user>
SMTP_PASSWORD=<vault:secret/email/smtp-password>

# Slack Integration
SLACK_WEBHOOK_URL=<vault:secret/notifications/slack-webhook>

# Telegram Bot
TELEGRAM_BOT_TOKEN=<vault:secret/notifications/telegram-token>

# ===========================================
# SERVICE DISCOVERY
# ===========================================
SERVICE_DISCOVERY_URL=http://service-discovery:3010
CONSUL_HOST=consul-server-1
CONSUL_PORT=8500

# ===========================================
# MESSAGE QUEUE
# ===========================================
KAFKA_BROKERS=kafka:9092
KAFKA_CLIENT_ID=platform3
KAFKA_GROUP_ID=platform3-group

# ===========================================
# MONITORING & OBSERVABILITY
# ===========================================
# Prometheus metrics
PROMETHEUS_URL=http://prometheus:9090

# Grafana dashboards
GRAFANA_URL=http://grafana:3000
GRAFANA_API_KEY=<vault:secret/monitoring/grafana-api-key>

# Jaeger tracing
JAEGER_ENDPOINT=http://jaeger:14268

# ===========================================
# TLS/SSL CERTIFICATES
# ===========================================
# mTLS Configuration
ENABLE_HTTPS=true
CA_CERT_PATH=/app/certs/ca-cert.pem
SERVER_CERT_PATH=/app/certs/server-cert.pem
SERVER_KEY_PATH=/app/certs/server-key.pem
REQUIRE_CLIENT_CERT=true

# ===========================================
# CORS CONFIGURATION
# ===========================================
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8080

# ===========================================
# LOGGING CONFIGURATION
# ===========================================
LOG_LEVEL=info
LOG_FORMAT=json

# ===========================================
# PERFORMANCE TUNING
# ===========================================
# Connection pool sizes
DB_POOL_SIZE=20
REDIS_POOL_SIZE=10

# Cache settings
CACHE_TTL=300
CACHE_MAX_SIZE=10000

# Rate limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=1000

# ===========================================
# TRADING CONFIGURATION
# ===========================================
# Risk management
MAX_DAILY_LOSS=1000
MAX_POSITION_SIZE=100000
DEFAULT_TRADE_FEE=0.001

# Trading limits
MAX_TRADE_AMOUNT=1000000
MIN_TRADE_AMOUNT=0.01

# ===========================================
# FEATURE FLAGS
# ===========================================
ENABLE_ADVANCED_ANALYTICS=true
ENABLE_ML_PREDICTIONS=true
ENABLE_REAL_TIME_ALERTS=true
ENABLE_BACKTESTING=true
ENABLE_PAPER_TRADING=true
ENABLE_SOCIAL_TRADING=false

# ===========================================
# DEVELOPMENT SETTINGS (DEV ONLY)
# ===========================================
# Only use in development environment
DEBUG_MODE=false
MOCK_DATA=false
HOT_RELOAD=false

# ===========================================
# HEALTH CHECK CONFIGURATION
# ===========================================
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# ===========================================
# BACKUP CONFIGURATION
# ===========================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30

# ===========================================
# NOTES FOR CONFIGURATION
# ===========================================
# 1. Replace all <vault:...> placeholders with actual values from Vault
# 2. For development, you can use plain text values
# 3. For production, all sensitive values should come from Vault
# 4. Never commit actual secrets to version control
# 5. Use .env.local for your local development settings
