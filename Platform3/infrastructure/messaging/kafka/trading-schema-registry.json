{
  "schemaRegistry": {
    "url": "http://localhost:8081",
    "compatibility": "BACKWARD",
    "subjects": [
      {
        "name": "forex.tick.m1-value",
        "schema": {
          "type": "record",
          "name": "TickData",
          "namespace": "com.forex.trading.schemas",
          "doc": "M1 tick data for forex scalping strategies",
          "fields": [
            {
              "name": "symbol",
              "type": "string",
              "doc": "Currency pair symbol (e.g., EURUSD, GBPJPY)"
            },
            {
              "name": "timestamp",
              "type": "long",
              "doc": "Unix timestamp in microseconds"
            },
            {
              "name": "bid",
              "type": "double",
              "doc": "Bid price with 5-decimal precision"
            },
            {
              "name": "ask",
              "type": "double",
              "doc": "Ask price with 5-decimal precision"
            },
            {
              "name": "volume",
              "type": ["null", "double"],
              "default": null,
              "doc": "Optional volume information"
            },
            {
              "name": "session",
              "type": {
                "type": "enum",
                "name": "TradingSession",
                "symbols": ["ASIAN", "LONDON", "NY", "OVERLAP_ASIAN_LONDON", "OVERLAP_LONDON_NY"]
              },
              "doc": "Trading session identifier"
            },
            {
              "name": "source",
              "type": "string",
              "doc": "Data source provider"
            }
          ]
        }
      },
      {
        "name": "forex.orderbook.updates-value",
        "schema": {
          "type": "record",
          "name": "OrderBookUpdate",
          "namespace": "com.forex.trading.schemas",
          "doc": "Real-time order book update for forex pairs",
          "fields": [
            {
              "name": "symbol",
              "type": "string",
              "doc": "Currency pair symbol"
            },
            {
              "name": "timestamp",
              "type": "long",
              "doc": "Unix timestamp in microseconds"
            },
            {
              "name": "bids",
              "type": {
                "type": "array",
                "items": {
                  "type": "record",
                  "name": "PriceLevel",
                  "fields": [
                    {"name": "price", "type": "double"},
                    {"name": "size", "type": "double"},
                    {"name": "orders", "type": ["null", "int"], "default": null}
                  ]
                }
              },
              "doc": "Bid price levels"
            },
            {
              "name": "asks",
              "type": {
                "type": "array",
                "items": "PriceLevel"
              },
              "doc": "Ask price levels"
            },
            {
              "name": "sequence",
              "type": "long",
              "doc": "Sequence number for ordering"
            }
          ]
        }
      },
      {
        "name": "forex.bars.m5-value",
        "schema": {
          "type": "record",
          "name": "OHLCVBar",
          "namespace": "com.forex.trading.schemas",
          "doc": "OHLCV bar data for various timeframes",
          "fields": [
            {
              "name": "symbol",
              "type": "string",
              "doc": "Currency pair symbol"
            },
            {
              "name": "timestamp",
              "type": "long",
              "doc": "Bar opening timestamp in milliseconds"
            },
            {
              "name": "timeframe",
              "type": {
                "type": "enum",
                "name": "Timeframe",
                "symbols": ["M1", "M5", "M15", "M30", "H1", "H4", "D1"]
              },
              "doc": "Timeframe of the bar"
            },
            {
              "name": "open",
              "type": "double",
              "doc": "Opening price"
            },
            {
              "name": "high",
              "type": "double",
              "doc": "Highest price"
            },
            {
              "name": "low",
              "type": "double",
              "doc": "Lowest price"
            },
            {
              "name": "close",
              "type": "double",
              "doc": "Closing price"
            },
            {
              "name": "volume",
              "type": ["null", "double"],
              "default": null,
              "doc": "Volume information if available"
            },
            {
              "name": "tickCount",
              "type": ["null", "int"],
              "default": null,
              "doc": "Number of ticks in this bar"
            },
            {
              "name": "session",
              "type": "TradingSession",
              "doc": "Trading session"
            }
          ]
        }
      },
      {
        "name": "forex.signals.scalping-value",
        "schema": {
          "type": "record",
          "name": "TradingSignal",
          "namespace": "com.forex.trading.schemas",
          "doc": "Trading signal for scalping strategies",
          "fields": [
            {
              "name": "signalId",
              "type": "string",
              "doc": "Unique signal identifier"
            },
            {
              "name": "symbol",
              "type": "string",
              "doc": "Currency pair symbol"
            },
            {
              "name": "timestamp",
              "type": "long",
              "doc": "Signal generation timestamp"
            },
            {
              "name": "strategy",
              "type": "string",
              "doc": "Strategy name that generated the signal"
            },
            {
              "name": "direction",
              "type": {
                "type": "enum",
                "name": "SignalDirection",
                "symbols": ["BUY", "SELL", "HOLD", "CLOSE"]
              },
              "doc": "Signal direction"
            },
            {
              "name": "confidence",
              "type": "double",
              "doc": "Signal confidence score (0.0 to 1.0)"
            },
            {
              "name": "entryPrice",
              "type": ["null", "double"],
              "default": null,
              "doc": "Suggested entry price"
            },
            {
              "name": "stopLoss",
              "type": ["null", "double"],
              "default": null,
              "doc": "Stop loss price"
            },
            {
              "name": "takeProfit",
              "type": ["null", "double"],
              "default": null,
              "doc": "Take profit price"
            },
            {
              "name": "timeframe",
              "type": "Timeframe",
              "doc": "Signal timeframe"
            },
            {
              "name": "session",
              "type": "TradingSession",
              "doc": "Trading session"
            },
            {
              "name": "metadata",
              "type": {
                "type": "map",
                "values": "string"
              },
              "doc": "Additional signal metadata"
            }
          ]
        }
      },
      {
        "name": "forex.orders.requests-value",
        "schema": {
          "type": "record",
          "name": "OrderRequest",
          "namespace": "com.forex.trading.schemas",
          "doc": "Order execution request",
          "fields": [
            {
              "name": "orderId",
              "type": "string",
              "doc": "Unique order identifier"
            },
            {
              "name": "clientId",
              "type": "string",
              "doc": "Client identifier"
            },
            {
              "name": "symbol",
              "type": "string",
              "doc": "Currency pair symbol"
            },
            {
              "name": "timestamp",
              "type": "long",
              "doc": "Order request timestamp"
            },
            {
              "name": "side",
              "type": {
                "type": "enum",
                "name": "OrderSide",
                "symbols": ["BUY", "SELL"]
              },
              "doc": "Order side"
            },
            {
              "name": "type",
              "type": {
                "type": "enum",
                "name": "OrderType",
                "symbols": ["MARKET", "LIMIT", "STOP", "STOP_LIMIT"]
              },
              "doc": "Order type"
            },
            {
              "name": "quantity",
              "type": "double",
              "doc": "Order quantity in base currency"
            },
            {
              "name": "price",
              "type": ["null", "double"],
              "default": null,
              "doc": "Limit price for limit orders"
            },
            {
              "name": "stopPrice",
              "type": ["null", "double"],
              "default": null,
              "doc": "Stop price for stop orders"
            },
            {
              "name": "timeInForce",
              "type": {
                "type": "enum",
                "name": "TimeInForce",
                "symbols": ["GTC", "IOC", "FOK", "DAY"]
              },
              "doc": "Time in force"
            },
            {
              "name": "session",
              "type": "TradingSession",
              "doc": "Trading session"
            }
          ]
        }
      },
      {
        "name": "forex.orders.executions-value",
        "schema": {
          "type": "record",
          "name": "OrderExecution",
          "namespace": "com.forex.trading.schemas",
          "doc": "Order execution result",
          "fields": [
            {
              "name": "orderId",
              "type": "string",
              "doc": "Original order identifier"
            },
            {
              "name": "executionId",
              "type": "string",
              "doc": "Unique execution identifier"
            },
            {
              "name": "symbol",
              "type": "string",
              "doc": "Currency pair symbol"
            },
            {
              "name": "timestamp",
              "type": "long",
              "doc": "Execution timestamp"
            },
            {
              "name": "status",
              "type": {
                "type": "enum",
                "name": "ExecutionStatus",
                "symbols": ["FILLED", "PARTIAL_FILL", "REJECTED", "CANCELLED", "EXPIRED"]
              },
              "doc": "Execution status"
            },
            {
              "name": "executedQuantity",
              "type": "double",
              "doc": "Executed quantity"
            },
            {
              "name": "executedPrice",
              "type": "double",
              "doc": "Executed price"
            },
            {
              "name": "commission",
              "type": ["null", "double"],
              "default": null,
              "doc": "Commission charged"
            },
            {
              "name": "latency",
              "type": ["null", "int"],
              "default": null,
              "doc": "Execution latency in microseconds"
            },
            {
              "name": "rejectionReason",
              "type": ["null", "string"],
              "default": null,
              "doc": "Rejection reason if applicable"
            }
          ]
        }
      },
      {
        "name": "forex.positions.updates-value",
        "schema": {
          "type": "record",
          "name": "PositionUpdate",
          "namespace": "com.forex.trading.schemas",
          "doc": "Real-time position update",
          "fields": [
            {
              "name": "positionId",
              "type": "string",
              "doc": "Unique position identifier"
            },
            {
              "name": "clientId",
              "type": "string",
              "doc": "Client identifier"
            },
            {
              "name": "symbol",
              "type": "string",
              "doc": "Currency pair symbol"
            },
            {
              "name": "timestamp",
              "type": "long",
              "doc": "Update timestamp"
            },
            {
              "name": "side",
              "type": "OrderSide",
              "doc": "Position side"
            },
            {
              "name": "quantity",
              "type": "double",
              "doc": "Current position quantity"
            },
            {
              "name": "averagePrice",
              "type": "double",
              "doc": "Average entry price"
            },
            {
              "name": "currentPrice",
              "type": "double",
              "doc": "Current market price"
            },
            {
              "name": "unrealizedPnL",
              "type": "double",
              "doc": "Unrealized profit/loss"
            },
            {
              "name": "realizedPnL",
              "type": "double",
              "doc": "Realized profit/loss"
            },
            {
              "name": "margin",
              "type": "double",
              "doc": "Margin requirement"
            },
            {
              "name": "stopLoss",
              "type": ["null", "double"],
              "default": null,
              "doc": "Stop loss price"
            },
            {
              "name": "takeProfit",
              "type": ["null", "double"],
              "default": null,
              "doc": "Take profit price"
            }
          ]
        }
      },
      {
        "name": "forex.sessions.events-value",
        "schema": {
          "type": "record",
          "name": "SessionEvent",
          "namespace": "com.forex.trading.schemas",
          "doc": "Trading session lifecycle events",
          "fields": [
            {
              "name": "eventId",
              "type": "string",
              "doc": "Unique event identifier"
            },
            {
              "name": "timestamp",
              "type": "long",
              "doc": "Event timestamp"
            },
            {
              "name": "session",
              "type": "TradingSession",
              "doc": "Trading session"
            },
            {
              "name": "eventType",
              "type": {
                "type": "enum",
                "name": "SessionEventType",
                "symbols": ["PRE_OPEN", "OPEN", "CLOSE", "POST_CLOSE", "OVERLAP_START", "OVERLAP_END"]
              },
              "doc": "Session event type"
            },
            {
              "name": "timezone",
              "type": "string",
              "doc": "Session timezone"
            },
            {
              "name": "metadata",
              "type": {
                "type": "map",
                "values": "string"
              },
              "doc": "Additional event metadata"
            }
          ]
        }
      }
    ]
  },
  "producers": {
    "config": {
      "bootstrap.servers": "localhost:9092,localhost:9093,localhost:9094",
      "key.serializer": "org.apache.kafka.common.serialization.StringSerializer",
      "value.serializer": "io.confluent.kafka.serializers.KafkaAvroSerializer",
      "schema.registry.url": "http://localhost:8081",
      "acks": "all",
      "retries": 2147483647,
      "max.in.flight.requests.per.connection": 5,
      "enable.idempotence": true,
      "compression.type": "lz4",
      "batch.size": 16384,
      "linger.ms": 1,
      "buffer.memory": 33554432,
      "max.request.size": 1048576
    }
  },
  "consumers": {
    "config": {
      "bootstrap.servers": "localhost:9092,localhost:9093,localhost:9094",
      "key.deserializer": "org.apache.kafka.common.serialization.StringDeserializer",
      "value.deserializer": "io.confluent.kafka.serializers.KafkaAvroDeserializer",
      "schema.registry.url": "http://localhost:8081",
      "group.id": "forex-trading-consumers",
      "auto.offset.reset": "earliest",
      "enable.auto.commit": false,
      "max.poll.records": 500,
      "max.poll.interval.ms": 300000,
      "session.timeout.ms": 30000,
      "heartbeat.interval.ms": 3000,
      "fetch.min.bytes": 1,
      "fetch.max.wait.ms": 500
    }
  },
  "streams": {
    "config": {
      "bootstrap.servers": "localhost:9092,localhost:9093,localhost:9094",
      "schema.registry.url": "http://localhost:8081",
      "application.id": "forex-trading-streams",
      "default.key.serde": "org.apache.kafka.common.serialization.Serdes$StringSerde",
      "default.value.serde": "io.confluent.kafka.streams.serdes.avro.SpecificAvroSerde",
      "processing.guarantee": "exactly_once_v2",
      "commit.interval.ms": 100,
      "cache.max.bytes.buffering": 10485760,
      "num.stream.threads": 4,
      "replication.factor": 3
    }
  }
}
